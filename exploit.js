
async function run_hax() {
  const progress = (msg) => document.getElementById('status').textContent = msg;

  try {
    progress('ğŸš€ ØªØ´ØºÙŠÙ„ WebKit Exploit...');
    await new Promise(resolve => setTimeout(resolve, 3000)); // Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø§Ø³ØªØºÙ„Ø§Ù„

    progress('â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ stage2.bin Ù…Ù† USB...');
    const response = await fetch('/mnt/usb0/stage2.bin');

    if (!response.ok) throw new Error('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ stage2.bin ÙÙŠ USB');

    const payloadBuffer = await response.arrayBuffer();

    progress('ğŸ’¥ ØªÙ†ÙÙŠØ° Ø§Ù„Ø¨Ø§ÙŠÙ„ÙˆØ¯...');

    if (typeof kernel === 'undefined' || typeof kernel.exec !== 'function') {
      throw new Error('âŒ kernel.exec ØºÙŠØ± Ù…Ø¹Ø±Ù Ø£Ùˆ ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ….');
    }

    await kernel.exec(payloadBuffer);

    progress('âœ… ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø§ÙŠÙ„ÙˆØ¯ Ø¨Ù†Ø¬Ø§Ø­!');
  } catch (err) {
    console.error(err);
    progress('âŒ Ø®Ø·Ø£: ' + err.message);
  }
}
